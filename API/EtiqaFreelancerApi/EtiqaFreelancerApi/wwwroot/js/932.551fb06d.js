"use strict";(self["webpackChunkvue_client"]=self["webpackChunkvue_client"]||[]).push([[932],{1932:function(e,s,a){a.r(s),a.d(s,{default:function(){return te}});var l=a(3396),t=a(9242),r=a(7139);const n={class:"row"},i={class:"col-md-9"},o={class:"input-group mb-3"},c={class:"input-group-append"},u={class:"col-md-9 col-sm-9"},d={class:"card"},g=(0,l._)("div",{class:"card-header"},[(0,l._)("div",{class:"col-md-4 flexContainer"},[(0,l._)("div",null,[(0,l._)("h4",null,"Users List")]),(0,l._)("div",null,[(0,l._)("button",{class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#myModal"},"Add User")])])],-1),h={class:"card-body table-responsive"},m={key:0,class:"table table-bordered table-hover",style:{"overflow-x":"auto"}},b=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th"),(0,l._)("th",null,"User Name"),(0,l._)("th",null,"Email"),(0,l._)("th",null,"Phone Number"),(0,l._)("th",null,"Skills"),(0,l._)("th",null,"Hobby"),(0,l._)("th")])],-1),_=["onClick"],p=["onClick"],P={key:1},v={class:"col-md-3 col-sm-3"},y={key:0},k={key:1},U=(0,l._)("div",{class:"card"},[(0,l._)("div",{class:"card-header"},[(0,l._)("p",null,"Please click on a user...")])],-1),f=[U],N={id:"myModal",class:"modal fade",tabindex:"-1","aria-hidden":"true","data-bs-backdrop":"static"},w={class:"modal-dialog"},C={class:"modal-content"},D=(0,l._)("div",{class:"modal-header"},[(0,l._)("h4",{class:"modal-title"},"Create a New User"),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1),S={class:"modal-body"};function x(e,s,a,U,x,L){const I=(0,l.up)("custom-pagination"),A=(0,l.up)("user-details"),z=(0,l.up)("add-user");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("div",n,[(0,l._)("div",i,[(0,l._)("div",o,[(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"Search by key","onUpdate:modelValue":s[0]||(s[0]=e=>x.key=e)},null,512),[[t.nr,x.key]]),(0,l._)("div",c,[(0,l._)("button",{class:"btn btn-outline-secondary",type:"button",onClick:s[1]||(s[1]=(...e)=>L.searchByKey&&L.searchByKey(...e))}," Search ")])])]),(0,l._)("div",u,[(0,l._)("div",d,[g,(0,l._)("div",h,[x.users?((0,l.wg)(),(0,l.iD)("table",m,[b,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(x.paginatedUser,((e,s)=>((0,l.wg)(),(0,l.iD)("tr",{class:(0,r.C_)({active:s==x.currentIndex}),onClick:a=>L.setActiveUser(e,s),key:s},[(0,l._)("td",null,(0,r.zw)(s+this.startIndex+1),1),(0,l._)("td",null,(0,r.zw)(e.userName),1),(0,l._)("td",null,(0,r.zw)(e.email),1),(0,l._)("td",null,(0,r.zw)(e.phoneNumber),1),(0,l._)("td",null,(0,r.zw)(e.skillSets),1),(0,l._)("td",null,(0,r.zw)(e.hobby),1),(0,l._)("td",null,[(0,l._)("button",{onClick:(0,t.iM)((s=>L.deleteNewUser(e.id)),["stop"]),class:"btn btn-danger"}," Delete ",8,p)])],10,_)))),128))])])):((0,l.wg)(),(0,l.iD)("p",P," No user available")),x.Ispagination?((0,l.wg)(),(0,l.j4)(I,{key:2,currentPage:x.currentPage,totalPages:x.totalPages,changePage:L.changePage},null,8,["currentPage","totalPages","changePage"])):(0,l.kq)("",!0)])])]),(0,l._)("div",v,[x.currentUser?((0,l.wg)(),(0,l.iD)("div",y,[(0,l.Wm)(A,{currentUser:x.currentUser},null,8,["currentUser"])])):((0,l.wg)(),(0,l.iD)("div",k,f))])]),(0,l._)("div",N,[(0,l._)("div",w,[(0,l._)("div",C,[D,(0,l._)("div",S,[(0,l.Wm)(z,{onRefreshList:L.refreshList},null,8,["onRefreshList"])])])])])])}const L={"aria-label":"Page navigation",style:{cursor:"pointer"}},I={class:"pagination"},A=(0,l._)("span",{"aria-hidden":"true"},"«",-1),z=[A],j=["onClick"],T=(0,l._)("span",{"aria-hidden":"true"},"»",-1),Z=[T];function R(e,s,a,t,n,i){return(0,l.wg)(),(0,l.iD)("nav",L,[(0,l._)("ul",I,[(0,l._)("li",{class:(0,r.C_)(["page-item",{disabled:1===a.currentPage}])},[(0,l._)("a",{class:"page-link",onClick:s[0]||(s[0]=e=>a.changePage(a.currentPage-1)),"aria-label":"Previous"},z)],2),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.totalPages,(e=>((0,l.wg)(),(0,l.iD)("li",{class:(0,r.C_)(["page-item",{active:e===a.currentPage}]),key:e},[(0,l._)("a",{class:"page-link",onClick:s=>a.changePage(e)},(0,r.zw)(e),9,j)],2)))),128)),(0,l._)("li",{class:(0,r.C_)(["page-item",{disabled:a.currentPage===a.totalPages}])},[(0,l._)("a",{class:"page-link",onClick:s[1]||(s[1]=e=>a.changePage(a.currentPage+1)),"aria-label":"Next"},Z)],2)])])}var F={props:{currentPage:Number,totalPages:Number,changePage:Function}},K=a(89);const E=(0,K.Z)(F,[["render",R]]);var B=E,H=a(9442);const M={class:"card"},O={class:"card-header"},W={class:"card-body"},q=(0,l._)("label",null,[(0,l._)("strong",null,"Email:")],-1),J=(0,l._)("label",null,[(0,l._)("strong",null,"Phone Number:")],-1),Y=(0,l._)("label",null,[(0,l._)("strong",null,"Skill Sets:")],-1),V=(0,l._)("label",null,[(0,l._)("strong",null,"Hobby:")],-1);function G(e,s,a,t,n,i){const o=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("div",M,[(0,l._)("div",O,[(0,l._)("h4",null,(0,r.zw)(a.currentUser.userName),1)]),(0,l._)("div",W,[(0,l._)("div",null,[q,(0,l._)("label",null,(0,r.zw)(a.currentUser.email),1)]),(0,l._)("div",null,[J,(0,l.Uk)(),(0,l._)("label",null,(0,r.zw)(a.currentUser.phoneNumber),1)]),(0,l._)("div",null,[Y,(0,l.Uk)(),(0,l._)("label",null,(0,r.zw)(a.currentUser.skillSets),1)]),(0,l._)("div",null,[V,(0,l.Uk)(),(0,l._)("label",null,(0,r.zw)(a.currentUser.hobby),1)]),(0,l.Wm)(o,{to:"/users/"+a.currentUser.id,class:"badge badge-warning"},{default:(0,l.w5)((()=>[(0,l.Uk)("Edit")])),_:1},8,["to"])])])}var Q={props:["currentUser"],setup(e){console.log("Selected User: "+e.currentUser)}};const X=(0,K.Z)(Q,[["render",G]]);var $=X,ee=a(5737),se=JSON.parse('{"i":"Success","a":[{"id":6,"userName":"asas","email":"r@g.com","phoneNumber":"1212","skillSets":"121","hobby":"12","fileName":null,"fileData":null},{"id":7,"userName":"asas","email":"a@g.c","phoneNumber":"01920202882","skillSets":"asda","hobby":"asda","fileName":null,"fileData":null},{"id":8,"userName":"asasas","email":"asdjsa@jhsa.com","phoneNumber":"+880 1920 202882","skillSets":"asaasa","hobby":"asasasas","fileName":null,"fileData":null},{"id":9,"userName":"asasas","email":"asdjsa@jhsa.com","phoneNumber":"+880 1920 202882","skillSets":"test skill","hobby":"Sleeping","fileName":null,"fileData":null},{"id":10,"userName":"rakibul","email":"ra@g.com","phoneNumber":"+880 1920 202882","skillSets":"asdada","hobby":"asdasdaa","fileName":null,"fileData":null},{"id":11,"userName":"sadsad","email":"a@g.com","phoneNumber":"+880 1920 202882","skillSets":"asdsad","hobby":"asdasda","fileName":null,"fileData":null},{"id":12,"userName":"Redoan","email":"red@gmail.com","phoneNumber":"+880 1920 202882","skillSets":"C#,ASP.NET Core","hobby":"Travelling , Reading","fileName":null,"fileData":null},{"id":13,"userName":"Redoan","email":"red@gmail.com","phoneNumber":"+880 1920 202882","skillSets":"C#,ASP.NET Core","hobby":"Travelling , Reading","fileName":null,"fileData":null}]}'),ae={name:"Users-list",components:{UserDetails:$,AddUser:ee["default"],CustomPagination:B},data(){return{currentPage:1,totalPages:5,itemPerPage:5,startIndex:0,users:[],paginatedUser:[],currentUser:null,currentIndex:-1,key:"",selectedFile:null,url:null,status:"",isLoading:!1,progress:0,Ispagination:!1}},methods:{retrieveUsers(){console.log("retrieveUsers get method is called"),H.Z.getAll().then((e=>{console.log(e.data),this.users=e.data.data,this.status=e.data.status,console.log(this.status),console.log(e.data.data),this.users&&(console.log("data"+this.users),this.calculateTotalPage(),this.changePage(this.currentPage),this.Ispagination=!0)})).catch((e=>{console.log("[exception]->"+e)}))},async getUserDataJsonFile(){this.users=se.a,this.status=se.i,console.log(this.status),console.log("data"+this.users),console.log(se.a.data)},getUserDataFromServer(){H.Z.getAll().then((e=>{console.log(e.data),this.users=e.data.data,this.status=e.data.status,console.log(this.status),console.log("data: "+this.users),console.log(e.data.data)})).catch((e=>{console.log("[exception]->"+e),console.error("API request failed:",e.error)}))},deleteNewUser(e){console.log("id to be deleted"+e),H.Z.delete(e).then((s=>{console.log(s.data),this.status=s.data.status,"Success"===this.status?(this.removeObjectFromArray(e),this.calculateTotalPage(),this.calculatePaginatedUsers(),alert("Delete Successful")):alert("Delete failed")}))},removeObjectFromArray(e){console.log("remove object from array list id: "+e),this.users=this.users.filter((s=>s.id!==e))},refreshList(){console.log("Refresh List is called!"),this.retrieveUsers()},setActiveUser(e,s){this.currentUser=e,this.currentIndex=e?s:-1},removeAllUsers(){H.Z.deleteAll().then((e=>{console.log(e.data),this.refreshList()})).catch((e=>{console.log(e)}))},searchByKey(){H.Z.findByKey(this.key).then((e=>{this.users=e.data.data,this.calculateTotalPage(),this.changePage(1),console.log("filtered user data : "+this.users)})).catch((e=>{console.log(e)}))},filteredList(){const e=this.key.toLowerCase();return this.users.filter((s=>s.userName.toLowerCase().includes(e)||s.phoneNumber.toLowerCase().includes(e)||s.email.toLowerCase().includes(e)||s.skillSets.toLowerCase().includes(e)||s.hobby.toLowerCase().includes(e)))},changePage(e){console.log("change page is hited: "+e),this.currentPage=e,this.calculatePaginatedUsers()},getUsersLength(){const e=this.users.length;return console.log("Number of users:",e),e},calculateTotalPage(){this.totalPages=Math.ceil(this.getUsersLength()/this.itemPerPage),console.log(" total page: "+this.totalPages)},calculatePaginatedUsers(){this.currentPage>this.totalPages&&(this.currentPage=this.totalPages),console.log("total page: "+this.totalPages+" current page :"+this.currentPage),this.startIndex=this.currentPage>1?(this.currentPage-1)*this.itemPerPage:0,console.log("Item per page"+this.itemPerPage);const e=this.startIndex+this.itemPerPage;console.log("start index:"+this.startIndex+" endIndex: "+e),console.log("paginate user data : "+this.users),this.paginatedUser=this.users.slice(this.startIndex,e),console.log("paginated user: "+this.paginatedUser),this.currentUser=this.paginatedUser[0]}},mounted(){this.retrieveUsers()}};const le=(0,K.Z)(ae,[["render",x]]);var te=le}}]);
//# sourceMappingURL=932.551fb06d.js.map