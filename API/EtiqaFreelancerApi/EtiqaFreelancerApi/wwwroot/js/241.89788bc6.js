"use strict";(self["webpackChunkvue_client"]=self["webpackChunkvue_client"]||[]).push([[241],{241:function(e,a,s){s.r(a),s.d(a,{default:function(){return te}});var l=s(3396),t=s(9242),r=s(7139);const n={class:"row"},i={class:"col-md-9"},o={class:"input-group mb-3"},c={class:"input-group-append"},u={class:"col-md-9 col-sm-9"},d={class:"card"},g=(0,l._)("div",{class:"card-header"},[(0,l._)("div",{class:"col-md-4 flexContainer"},[(0,l._)("div",null,[(0,l._)("h4",null,"Users List")]),(0,l._)("div",null,[(0,l._)("button",{class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#myModal"},"Add User")])])],-1),h={class:"card-body"},m={key:0,class:"table table-hover"},b=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th"),(0,l._)("th",null,"User Name"),(0,l._)("th",null,"Email"),(0,l._)("th",null,"Phone Number"),(0,l._)("th",null,"Skills"),(0,l._)("th",null,"Hobby"),(0,l._)("th")])],-1),_=["onClick"],p=["onClick"],P={key:1},v={class:"col-md-3 col-sm-3"},k={key:0},y={key:1},U=(0,l._)("div",{class:"card"},[(0,l._)("div",{class:"card-header"},[(0,l._)("p",null,"Please click on a user...")])],-1),f=[U],N={id:"myModal",class:"modal fade",tabindex:"-1","aria-hidden":"true","data-bs-backdrop":"static"},w={class:"modal-dialog"},D={class:"modal-content"},S=(0,l._)("div",{class:"modal-header"},[(0,l._)("h4",{class:"modal-title"},"Create a New User"),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1),C={class:"modal-body"};function x(e,a,s,U,x,A){const z=(0,l.up)("custom-pagination"),I=(0,l.up)("user-details"),L=(0,l.up)("add-user");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",n,[(0,l._)("div",i,[(0,l._)("div",o,[(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",placeholder:"Search by key","onUpdate:modelValue":a[0]||(a[0]=e=>x.key=e)},null,512),[[t.nr,x.key]]),(0,l._)("div",c,[(0,l._)("button",{class:"btn btn-outline-secondary",type:"button",onClick:a[1]||(a[1]=(...e)=>A.searchByKey&&A.searchByKey(...e))}," Search ")])])]),(0,l._)("div",u,[(0,l._)("div",d,[g,(0,l._)("div",h,[x.users?((0,l.wg)(),(0,l.iD)("table",m,[b,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(x.paginatedUser,((e,a)=>((0,l.wg)(),(0,l.iD)("tr",{class:(0,r.C_)({active:a==x.currentIndex}),onClick:s=>A.setActiveUser(e,a),key:a},[(0,l._)("td",null,(0,r.zw)(a+this.startIndex+1),1),(0,l._)("td",null,(0,r.zw)(e.userName),1),(0,l._)("td",null,(0,r.zw)(e.email),1),(0,l._)("td",null,(0,r.zw)(e.phoneNumber),1),(0,l._)("td",null,(0,r.zw)(e.skillSets),1),(0,l._)("td",null,(0,r.zw)(e.hobby),1),(0,l._)("td",null,[(0,l._)("button",{onClick:(0,t.iM)((a=>A.deleteNewUser(e.id)),["stop"]),class:"btn btn-danger"}," Delete ",8,p)])],10,_)))),128))])])):((0,l.wg)(),(0,l.iD)("p",P," No user available")),x.users?((0,l.wg)(),(0,l.j4)(z,{key:2,currentPage:x.currentPage,totalPages:x.totalPages,changePage:A.changePage},null,8,["currentPage","totalPages","changePage"])):(0,l.kq)("",!0)])])]),(0,l._)("div",v,[x.currentUser?((0,l.wg)(),(0,l.iD)("div",k,[(0,l.Wm)(I,{currentUser:x.currentUser},null,8,["currentUser"])])):((0,l.wg)(),(0,l.iD)("div",y,f))])]),(0,l._)("div",N,[(0,l._)("div",w,[(0,l._)("div",D,[S,(0,l._)("div",C,[(0,l.Wm)(L,{onRefreshList:A.refreshList},null,8,["onRefreshList"])])])])])],64)}const A={"aria-label":"Page navigation",style:{cursor:"pointer"}},z={class:"pagination"},I=(0,l._)("span",{"aria-hidden":"true"},"«",-1),L=[I],j=["onClick"],Z=(0,l._)("span",{"aria-hidden":"true"},"»",-1),R=[Z];function T(e,a,s,t,n,i){return(0,l.wg)(),(0,l.iD)("nav",A,[(0,l._)("ul",z,[(0,l._)("li",{class:(0,r.C_)(["page-item",{disabled:1===s.currentPage}])},[(0,l._)("a",{class:"page-link",onClick:a[0]||(a[0]=e=>s.changePage(s.currentPage-1)),"aria-label":"Previous"},L)],2),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.totalPages,(e=>((0,l.wg)(),(0,l.iD)("li",{class:(0,r.C_)(["page-item",{active:e===s.currentPage}]),key:e},[(0,l._)("a",{class:"page-link",onClick:a=>s.changePage(e)},(0,r.zw)(e),9,j)],2)))),128)),(0,l._)("li",{class:(0,r.C_)(["page-item",{disabled:s.currentPage===s.totalPages}])},[(0,l._)("a",{class:"page-link",onClick:a[1]||(a[1]=e=>s.changePage(s.currentPage+1)),"aria-label":"Next"},R)],2)])])}var F={props:{currentPage:Number,totalPages:Number,changePage:Function}},K=s(89);const E=(0,K.Z)(F,[["render",T]]);var H=E,B=s(9442);const M={class:"card"},O={class:"card-header"},W={class:"card-body"},Y=(0,l._)("label",null,[(0,l._)("strong",null,"Email:")],-1),q=(0,l._)("label",null,[(0,l._)("strong",null,"Phone Number:")],-1),J=(0,l._)("label",null,[(0,l._)("strong",null,"Skill Sets:")],-1),V=(0,l._)("label",null,[(0,l._)("strong",null,"Hobby:")],-1);function G(e,a,s,t,n,i){const o=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("div",M,[(0,l._)("div",O,[(0,l._)("h4",null,(0,r.zw)(s.currentUser.userName),1)]),(0,l._)("div",W,[(0,l._)("div",null,[Y,(0,l._)("label",null,(0,r.zw)(s.currentUser.email),1)]),(0,l._)("div",null,[q,(0,l.Uk)(),(0,l._)("label",null,(0,r.zw)(s.currentUser.phoneNumber),1)]),(0,l._)("div",null,[J,(0,l.Uk)(),(0,l._)("label",null,(0,r.zw)(s.currentUser.skillSets),1)]),(0,l._)("div",null,[V,(0,l.Uk)(),(0,l._)("label",null,(0,r.zw)(s.currentUser.hobby),1)]),(0,l.Wm)(o,{to:"/users/"+s.currentUser.id,class:"badge badge-warning"},{default:(0,l.w5)((()=>[(0,l.Uk)("Edit")])),_:1},8,["to"])])])}var Q={props:["currentUser"],setup(e){console.log("Selected User: "+e.currentUser)}};const X=(0,K.Z)(Q,[["render",G]]);var $=X,ee=s(8174),ae=JSON.parse('{"i":"Success","a":[{"id":6,"userName":"asas","email":"r@g.com","phoneNumber":"1212","skillSets":"121","hobby":"12","fileName":null,"fileData":null},{"id":7,"userName":"asas","email":"a@g.c","phoneNumber":"01920202882","skillSets":"asda","hobby":"asda","fileName":null,"fileData":null},{"id":8,"userName":"asasas","email":"asdjsa@jhsa.com","phoneNumber":"+880 1920 202882","skillSets":"asaasa","hobby":"asasasas","fileName":null,"fileData":null},{"id":9,"userName":"asasas","email":"asdjsa@jhsa.com","phoneNumber":"+880 1920 202882","skillSets":"test skill","hobby":"Sleeping","fileName":null,"fileData":null},{"id":10,"userName":"rakibul","email":"ra@g.com","phoneNumber":"+880 1920 202882","skillSets":"asdada","hobby":"asdasdaa","fileName":null,"fileData":null},{"id":11,"userName":"sadsad","email":"a@g.com","phoneNumber":"+880 1920 202882","skillSets":"asdsad","hobby":"asdasda","fileName":null,"fileData":null},{"id":12,"userName":"Redoan","email":"red@gmail.com","phoneNumber":"+880 1920 202882","skillSets":"C#,ASP.NET Core","hobby":"Travelling , Reading","fileName":null,"fileData":null},{"id":13,"userName":"Redoan","email":"red@gmail.com","phoneNumber":"+880 1920 202882","skillSets":"C#,ASP.NET Core","hobby":"Travelling , Reading","fileName":null,"fileData":null}]}'),se={name:"Users-list",components:{UserDetails:$,AddUser:ee["default"],CustomPagination:H},data(){return{currentPage:1,totalPages:5,itemPerPage:5,startIndex:0,users:[],paginatedUser:[],currentUser:null,currentIndex:-1,key:"",selectedFile:null,url:null,status:"",isLoading:!1,progress:0}},methods:{retrieveUsers(){console.log("retrieveUsers get method is called"),B.Z.getAll().then((e=>{console.log(e.data),this.users=e.data.data,this.status=e.data.status,console.log(this.status),console.log(e.data.data),this.users&&(console.log("data"+this.users),this.calculateTotalPage(),this.changePage(this.currentPage))})).catch((e=>{console.log("[exception]->"+e)}))},async getUserDataJsonFile(){this.users=ae.a,this.status=ae.i,console.log(this.status),console.log("data"+this.users),console.log(ae.a.data)},getUserDataFromServer(){B.Z.getAll().then((e=>{console.log(e.data),this.users=e.data.data,this.status=e.data.status,console.log(this.status),console.log("data: "+this.users),console.log(e.data.data)})).catch((e=>{console.log("[exception]->"+e),console.error("API request failed:",e.error)}))},deleteNewUser(e){console.log("id to be deleted"+e),B.Z.delete(e).then((a=>{console.log(a.data),this.status=a.data.status,"Success"===this.status?(this.removeObjectFromArray(e),this.calculateTotalPage(),this.calculatePaginatedUsers(),alert("Delete Successful")):alert("Delete failed")}))},removeObjectFromArray(e){console.log("remove object from array list id: "+e),this.users=this.users.filter((a=>a.id!==e))},refreshList(){console.log("Refresh List is called!"),this.retrieveUsers(),this.changePage(this.currentPage)},setActiveUser(e,a){this.currentUser=e,this.currentIndex=e?a:-1},removeAllUsers(){B.Z.deleteAll().then((e=>{console.log(e.data),this.refreshList()})).catch((e=>{console.log(e)}))},searchByKey(){B.Z.findByKey(this.key).then((e=>{this.users=e.data.data,this.setActiveUser(null),console.log("filtered user data : "+this.users)})).catch((e=>{console.log(e)}))},changePage(e){console.log("change page is hited: "+e),this.currentPage=e,this.calculatePaginatedUsers()},getUsersLength(){const e=this.users.length;return console.log("Number of users:",e),e},calculateTotalPage(){this.totalPages=Math.ceil(this.getUsersLength()/this.itemPerPage),console.log(" total page: "+this.totalPages)},calculatePaginatedUsers(){this.currentPage>this.totalPages&&(this.currentPage=this.totalPages),console.log("total page: "+this.totalPages+" current page :"+this.currentPage),this.startIndex=this.currentPage>1?(this.currentPage-1)*this.itemPerPage:0,console.log("Item per page"+this.itemPerPage);const e=this.startIndex+this.itemPerPage;console.log("start index:"+this.startIndex+" endIndex: "+e),console.log("paginate user data : "+this.users),this.paginatedUser=this.users.slice(this.startIndex,e),console.log("paginated user: "+this.paginatedUser),this.currentUser=this.paginatedUser[0]}},mounted(){this.retrieveUsers()}};const le=(0,K.Z)(se,[["render",x]]);var te=le}}]);
//# sourceMappingURL=241.89788bc6.js.map